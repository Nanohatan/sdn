<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <!-- jquery -->
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <title>user page</title>
    <!-- javascript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">


</head>
<style>
    #schedule{
        background-color: #fae092;
        font-family: Arial, Helvetica, sans-serif;
        border-collapse: collapse;
        width: 100%;
    }
    #schedule td, #schedule th{
        border: 1px solid #0ba3e4;
        padding: 8px;
        height: 20px;
    }
    #schedule th{
        background-color:#0ba3e4 ;
    }

    .jikanwari_table{
        position: relative;
        margin: auto;
        padding: 30px; 
        width: 80%;
    }
    tr td a {
        position: relative;
    }

</style>
<body>
<%- include('./header', {role:role}) %>
<h1 > <%= userName %> &nbsp;<span style="color: #2b2301;">の時間割</span></h1>
<% if (role) { %>
    <h5 >教師としてログインしています</h5>
<% } else { %>
    <h5 >生徒としてログインしています</h5>
<% } %>  

<p>&nbsp;</p>
<div class="jikanwari_table">
    <table id="schedule" >
        <tr>
            <th>月曜日</th>
            <th>火曜日</th>
            <th>水曜日</th>
            <th>木曜日</th>
            <th>金曜日</th>
        </tr>
    <% for (let i=1; i<8; i++){ %>
        <tr>
        <% for (let j=1; j<6; j++){ %>
            <% schedule.forEach(function(sc){ %>
                <% if(sc.day==j.toString() && sc.period==i.toString()){ %>
                    <td><a href="/search/class/<%- sc.class_name %>"> <%- sc.class_name %></a></td>
                    <% j++ %>
                <% } %>
            <% }); %>
            <% if (i<8 && j<6) { %>    
                <td></td>
            <% } %>
        <% }; %>
        </tr>
    <% }; %>

<p>&nbsp;</p>
</body>
</html>